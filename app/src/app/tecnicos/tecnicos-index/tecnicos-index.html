<div class="actions-header">
    <button mat-flat-button color="primary" (click)="nuevoTecnico()">
        <mat-icon>add</mat-icon> Agregar Técnico
    </button>
</div>

<div class="grid-container">
    @if(datos().length > 0) {
    <div class="product-list">
        @for (item of datos(); track item.id) {
        <div class="product-card">
            <mat-card class="technician-card">
                <!-- encabezado con avatar y nombre -->
                <div class="card-header">
                    <div class="avatar">{{ item.nombre ? item.nombre.charAt(0) : '?' }}</div>
                    <div class="info">
                        <h2>{{ item.nombre || 'Técnico' }}</h2>
                    </div>
                </div>

                <!-- información -->
                <div class="card-body">
                    <p><strong>Carga actual:</strong> {{ item.cargaActual }}</p>
                    <p>
                        <strong>Disponible:</strong>
                        <mat-icon [color]="item.disponibilidad ? 'primary' : 'warn'">
                            {{ item.disponibilidad ? 'check_circle' : 'cancel' }}
                        </mat-icon>
                    </p>
                </div>

                <!-- footer con botón -->
                <div class="card-footer">
                    <button mat-icon-button matTooltip="Detalle Técnico" aria-label="Detalle Técnico"
                        (click)="detalle(item.id)">
                        <mat-icon>info</mat-icon>
                    </button>

                    <!-- editar -->
                    <button mat-icon-button matTooltip="Editar Técnico" aria-label="Editar Técnico"
                        (click)="editar(item.id)">
                        <mat-icon>edit</mat-icon>
                    </button>

                </div>
            </mat-card>
        </div>
        }
    </div>
    } @else {
    <div>
        <p>No se encontraron técnicos con los filtros aplicados.</p>
    </div>
    }
</div>