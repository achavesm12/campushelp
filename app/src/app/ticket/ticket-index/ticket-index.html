<div class="actions-header">
    <button mat-raised-button class="btn-primary" (click)="nuevoTicket()">
        <mat-icon>add</mat-icon>
        {{ 'TICKETS.ADD' | translate }}
    </button>
</div>

<div class="ticket-container">

    @if(tickets().length > 0) {

    @for (ticket of tickets(); track ticket.id) {
    <mat-card class="ticket-item">

        <!-- header -->
        <div class="ticket-header">
            <div class="ticket-avatar">
                {{ ticket.titulo.charAt(0).toUpperCase() }}
            </div>

            <div class="ticket-title">
                <h3>{{ ticket.titulo }}</h3>

                <span class="status-chip" [ngClass]="ticket.status.toLowerCase()">
                    {{ ticket.status }}
                </span>
            </div>

            <button mat-icon-button (click)="verDetalle(ticket.id)" [matTooltip]="'TICKETS.TOOLTIP_DETAIL' | translate"
                aria-label="{{ 'TICKETS.TOOLTIP_DETAIL' | translate }}">
                <mat-icon>info</mat-icon>
            </button>
        </div>

        <!-- body -->
        <div class="ticket-body">

            <p>
                <strong>{{ 'TICKETS.CATEGORY' | translate }}:</strong>
                {{ ticket.categoria?.nombre }}
            </p>

            <p>
                <strong>{{ 'TICKETS.REQUESTER' | translate }}:</strong>
                {{ ticket.solicitante?.nombre }}
            </p>

        </div>

    </mat-card>
    }

    } @else {

    <p>{{ 'TICKETS.EMPTY' | translate }}</p>

    }
</div>